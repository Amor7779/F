<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Vida</title>

<!-- Google Analytics (REEMPLAZA TU G-ID REAL) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XXXXXXXXXX');
</script>

<style>

html,body{
margin:0;
height:100%;
font-family:Georgia, serif;
color:white;
overflow:hidden;
}

/* Fondo respirando */
.bg{
position:fixed;
width:100%;
height:100%;
background:url("FONDO.jpg") center/cover no-repeat;
z-index:-2;
animation:breathe 20s ease-in-out infinite;
}
@keyframes breathe{
0%{transform:scale(1);}
50%{transform:scale(1.06);}
100%{transform:scale(1);}
}

/* Oscurecido */
.overlay{
position:fixed;
width:100%;
height:100%;
background:rgba(0,0,0,.45);
z-index:-1;
}

/* Canvas nieve realista */
canvas{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
pointer-events:none;
z-index:0;
}

/* Carta */
.wrapper{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
width:92%;
max-width:650px;
height:75vh;
overflow:hidden;
}

.letter{
height:100%;
overflow-y:auto;
padding:28px;
background:rgba(0,0,0,.35);
backdrop-filter:blur(6px);
border-radius:18px;
box-shadow:0 0 30px rgba(0,0,0,.6);
scroll-behavior:smooth;
animation:fade 3s ease;
}

@keyframes fade{
from{opacity:0; transform:translateY(20px);}
to{opacity:1;}
}

p{line-height:1.7em;font-size:18px;}

.gold{
margin-top:30px;
font-size:26px;
text-align:center;
font-weight:bold;
background:linear-gradient(45deg,#ffd86b,#fff3c4,#ffd86b);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
text-shadow:0 0 18px rgba(255,215,140,0.8);
}

</style>
</head>

<body>

<div class="bg"></div>
<div class="overlay"></div>
<canvas id="snow"></canvas>

<div class="wrapper">
<div class="letter">

<!-- CARTA -->
<p>Eres mi coincidencia favorita mi vida... dicen que la vida esta hecha de casualidades, pero la tuya fue la mas perfecta de todas...</p>
<p>Te busque por muchos anos, muchisimos anos y jamas te olvide porque esa mirada de cielo puro, esos ojitos hermosos, esa sonrisa encantadora y sanadora se quedaron para siempre en mi piel mi vida...</p>
<p>Y asi llegaste justo cuando mi alma pedia a gritos carino, compresion, sonrisas...</p>
<p>Hoy entiendo que no fue un azar cualquiera, sino la respuesta mas hermosa que la vida me pudo regalar...</p>
<p>Porque si el alma tiene un destino la mia fue creada para encontrarte...</p>
<p>Por favor te ruego que me permitas hablarte mi vida, te extrano demasiado mi vida...</p>
<p>Te amo y te amare por siempre mi vida...</p>

<div class="gold">Te extrano demasiado mi vida</div>

</div>
</div>

<audio id="music" loop>
<source src="Noquieroperderte.mp3" type="audio/mpeg">
</audio>

<script>

/* Música fade-in */
let started=false;
document.body.addEventListener("click",()=>{
if(started) return;
started=true;
const audio=document.getElementById("music");
audio.volume=0;
audio.play();
let v=0;
const fade=setInterval(()=>{
v+=0.02;
audio.volume=v;
if(v>=1) clearInterval(fade);
},120);
});

/* Nieve cinematográfica */
const canvas=document.getElementById("snow");
const ctx=canvas.getContext("2d");
let w,h;
function resize(){w=canvas.width=window.innerWidth;h=canvas.height=window.innerHeight;}
resize();window.onresize=resize;

const flakes=[];
for(let i=0;i<120;i++){
flakes.push({
x:Math.random()*w,
y:Math.random()*h,
r:Math.random()*3+1,
s:Math.random()*1+0.5,
d:Math.random()*0.02
});
}

function draw(){
ctx.clearRect(0,0,w,h);
ctx.fillStyle="white";
ctx.beginPath();
flakes.forEach(f=>{
ctx.moveTo(f.x,f.y);
ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
});
ctx.fill();
update();
requestAnimationFrame(draw);
}
function update(){
flakes.forEach(f=>{
f.y+=f.s;
f.x+=Math.sin(f.y*0.01);
if(f.y>h){f.y=0;f.x=Math.random()*w;}
});
}
draw();

/* Detector de tiempo leído */
let startTime=Date.now();
window.addEventListener("beforeunload",()=>{
let seconds=Math.floor((Date.now()-startTime)/1000);
gtag('event','tiempo_en_pagina',{
'value':seconds,
'event_category':'engagement'
});
});

</script>

</body>
</html>
